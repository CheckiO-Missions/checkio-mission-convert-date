<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        Nie mam pojcia, jak zacz rozwizywa t misj.
    </div>
    <div class="answer">
        <p>
            Prosz zapa pomys ! Prosz podzieli podany cig znak贸w na czci. Zbuduj z nich obiekt daty i przekonwertuj ten obiekt daty z powrotem na cig w poprawnym formacie. Po ka偶dym kroku prosz sprawdzi, czy aktualne dane s prawidowe, jeli nie, prosz natychmiast zwr贸ci wyra偶enie.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Ok, od czego powinienem zacz?
    </div>
    <div class="answer">
        <p>
            Prosz podzieli podany cig znak贸w na czci za pomoc metody <a target="_blank" href="https://www.w3schools.com/jsref/jsref_split.asp">str.split()</a> z separatorem "/".
        </p>
        <pre class="brush: javascript">
const parts = date.split("/");
        </pre>
        <p>
            Mo偶na ju偶 sprawdzi, czy liczba czci jest r贸wna 3, w przeciwnym razie data jest nieprawidowa.
        </p>
        <pre class="brush: javascript">
if (parts.length!== 3) return "Error: Invalid date.";
        </pre>
        <p>
            Prosz rozpakowa <b class="code">parts</b> na osobny dzie, miesic i rok.
        </p>
        <pre class="brush: javascript">
const [dd, mm, yyyy] = parts;
        </pre>        
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Co robi dalej?
    </div>
    <div class="answer">
        <p>
            Prosz zapozna si z klas <a target="_blank" href="https://www.w3schools.com/js/js_dates.asp">Date()</a> oraz metodami <b class="code">date.getTime()</b> i <b class="code">date.toISOString()</b>. 
        </p>
        <p>
            Prosz zbudowa obiekt daty z oddzielnych czci za pomoc <b class="code">Date()</b>.
        </p>
        <pre class="brush: javascript">
const date = new Date(`${mm}/${dd}/${yyyy}`);
        </pre>
        <p>
            Prosz sprawdzi, czy jest to prawidowa data za pomoc <b class="code">isNaN</b> i <b class="code">date.getTime()</b>.
        </p>
        <pre class="brush: javascript">
if (isNaN(date.getTime())) return "Error: Invalid date.";
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Nadal potrzebuj podpowiedzi.
    </div>
    <div class="answer">
        <p>
            Prosz przekonwertowa obiekt daty do formatu ISO za pomoc <b class="code">date.toISOString()</b>, poci go na 10 znak贸w za pomoc metody <a target="_blank" href="https://www.w3schools.com/jsref/jsref_slice_string.asp">string.slice()</a> i sprawdzi, czy jest r贸wny cigowi, bezporednio zbudowanemu z oddzielnych czci.
        </p>
        <pre class="brush: javascript">
const res = date.toISOString().slice(0, 10);
if (res!== `${yyyy}-${mm}-${dd}`) return "Error: Invalid date.";
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Jak wic powinno wyglda moje ostateczne rozwizanie?
    </div>
    <div class="answer">
        <p>
            Wystarczy poczy wszystkie poprzednie podpowiedzi, zwr贸ci wynik i zawin kod w wyra偶enie funkcyjne. U偶ywanie podpowiedzi typu dla danych wejciowych i wyjciowych jest wysoce zalecane.
        </p>
        <p>Poni偶ej znajduje si cae rozwizanie:</p>
        <div class="spoiler">
        <pre class="brush: javascript">
function convertDate(dateString: string): string {

    const parts = dateString.split('/');
    if (parts.length!== 3) return "Error: Invalid date.";
    const [dd, mm, yyyy] = parts;

    const date = new Date(`${mm}/${dd}/${yyyy}`);
    if (isNaN(date.getTime())) return "Error: Invalid date.";
    
    const res = date.toISOString().slice(0, 10);
    if (res!== `${yyyy}-${mm}-${dd}`) return "Error: Invalid date.";

    return res;
}
        </pre>
        </div>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Prosz pokaza mi wicej rozwiza!<br />
        bo chc by prawdziwym  bohaterem Javascript!
    </div>
    <div class="answer">
        <p>Jasne, prosz pobra!</p>
        <p>
            Bez u偶ycia obiektu Date potrzebne jest dodatkowe sprawdzenie roku przestpnego, dni i miesicy.
        </p>
        <div class="spoiler">
        <pre class="brush: javascript">
function convertDate(dateString: string): string {

    const parts = dateString.split('/');
    if (parts.length!== 3) return "Error: Invalid date.";
    
    const [dd, mm, yyyy] = parts;
    const isLeapYear = (year: number) => (year % 4 === 0 && year % 100!== 0) || year % 400 === 0;

    if (mm === "02" && dd === "29" &&!isLeapYear(parseInt(yyyy)))
        return "Error: Invalid date.";
    
    if (parseInt(dd)> 31 || parseInt(mm)> 12)
        return "Error: Invalid date.";

    if (["04", "06", "09", "11"].includes(mm) && parseInt(dd)> 30)
        return "Error: Invalid date.";
    
    return `${yyyy}-${mm}-${dd}`;
}
        </pre>
        </div>
        <p>Prosz klikn <b>Best Solutions</b> w menu misji i zobaczy wiele innych ciekawych rozwiza!</p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        Dziki! Teraz wiem i rozumiem wicej! Wszystko dziaa jak nale偶y!
    </div>
    <div class="answer">
        Mio mi to sysze !
    </div>
</div>
</body>